webpackJsonp([0x8f98270c668c],{351:function(n,a){n.exports={data:{site:{siteMetadata:{title:"Geoffrey Mureithi - Full Stack Developer",author:"Geoffrey Mureithi"}},markdownRemark:{id:"/home/mureithi/projects/my-site/src/posts/the-perfect-tribonacci-sequence.md absPath of file >>> MarkdownRemark",html:'<h1>Python: Writing the perfect Tribonacci sequence</h1>\n<p>In several interviews, I have been ask to write a Fibonacci sequence. I have always with ease and with a smile written several lines of code, even in Java, a language that I am not so conversant with. A Fibonacci sequence function in python below:</p>\n<p>Fibonacci Sequence Python</p>\n<div class="gatsby-highlight">\n      <pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>\n a<span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span>\n <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n a<span class="token punctuation">,</span>b <span class="token operator">=</span> b<span class="token punctuation">,</span>a<span class="token operator">+</span>b\n <span class="token keyword">return</span> a\n<span class="token keyword">print</span> fib<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>The other day, a potential employer decided I had to prove myself beyond the well-known Fibonacci sequence and generate a Tribonacci sequence.</p>\n<p>As you all know, Tribonacci sequences occur in several ways:</p>\n<table>\n<tbody>\n<tr>\n<td>**a**</td>\n<td>**b**</td>\n<td>**c**</td>\n<td>**Sequence**</td>\n</tr>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>0, 1, 1, 1, 2, 4, 7, 13, 24, 44, 81, 149, …</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1, 1, 1, 3, 5, 9, 17, 31, 57, 105, 193, 355, …</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n<td>0, 1, 0, 1, 2, 3, 6, 11, 20, 37, 68, 125, 230, …</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>3</td>\n<td>3, 1, 3, 7, 11, 21, 39, 71, 131, 241, 443, 815, …</td>\n</tr>\n<tr>\n<td>-1</td>\n<td>2</td>\n<td>2</td>\n<td>-1, 2, 2, 3, 7, 12, 22, 41, 75, 138, 254, 467, …</td>\n</tr>\n</tbody>\n</table>\n<p>Now, Apart from creating a function that can handle any sequence, the function was also supposed to calculate huge numbers.<br>\nI decided to start with a simple if loop.</p>\n<p>Take 1</p>\n<p>Python</p>\n<div class="gatsby-highlight">\n      <pre class="language-python"><code><span class="token comment">#take 1</span>\n<span class="token keyword">def</span> <span class="token function">fib3</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>\n<span class="token comment"># maximum recussion error for 4000</span>\n <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>\n <span class="token keyword">return</span> <span class="token number">1</span>\n <span class="token keyword">elif</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>\n <span class="token keyword">return</span> <span class="token number">1</span>\n <span class="token keyword">elif</span> n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>\n <span class="token keyword">return</span> <span class="token number">1</span>\n <span class="token keyword">else</span><span class="token punctuation">:</span>\n <span class="token keyword">return</span> fib3<span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib3<span class="token punctuation">(</span>n<span class="token number">-2</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib3<span class="token punctuation">(</span>n<span class="token number">-3</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>This worked for small Tribonacci calculations, but had a maximum recussion error.<br>\nMy second instinct was to memorize:</p>\n<p>Take 2: Memorize</p>\n<p>Python</p>\n<div class="gatsby-highlight">\n      <pre class="language-python"><code><span class="token comment">#take 2</span>\nmemory <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span>\n<span class="token keyword">def</span> <span class="token function">fib3_alternative</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>\n<span class="token comment"># maximum recussion error for 4000; Avoided by building ip results in memory</span>\n <span class="token keyword">if</span> <span class="token operator">not</span> n <span class="token keyword">in</span> memory<span class="token punctuation">:</span>\n memory<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> fib3_alternative<span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib3_alternative<span class="token punctuation">(</span>n<span class="token number">-2</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib3_alternative<span class="token punctuation">(</span>n<span class="token number">-3</span><span class="token punctuation">)</span>\n <span class="token keyword">return</span> memory<span class="token punctuation">[</span>n<span class="token punctuation">]</span>\n</code></pre>\n      </div>\n<p>This would work but only if I build the memory slowly:</p>\n<p>Building the memory</p>\n<div class="gatsby-highlight">\n      <pre class="language-python"><code><span class="token comment">#to avoid maximum recussion errors in python, we have to smartly build our fib3 memory</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">2500</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>\nfib3_alternative<span class="token punctuation">(</span><span class="token number">3500</span><span class="token punctuation">)</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Fib3_alternative for 4000 is {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>fib3_alternative<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>I felt that what I had was not enough, I had to create something that would work for all sequences, and must have no complicated methods.</p>\n<p>After several times of trial and error, It came to me:</p>\n<p>Best</p>\n<div class="gatsby-highlight">\n      <pre class="language-python"><code><span class="token comment">#take 3</span>\n<span class="token keyword">def</span> <span class="token function">fib3_best</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>\n<span class="token comment">#Works like a charm</span>\n queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>\n <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">xrange</span><span class="token punctuation">(</span>n<span class="token number">-2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n queue <span class="token operator">=</span> queue<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token builtin">sum</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">]</span>\n <span class="token keyword">return</span> queue<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>\n<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Fib3_best for 4000 is {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>fib3_best<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>This works like a charm! You can change queue to whichever sequence you feel suits you.<br>\nYou can fork this code on BitBucket <a href="https://bitbucket.org/snippets/acemureithi/dE8oo">Here</a></p>',frontmatter:{title:"Python: Writing the perfect Tribonacci sequence",date:"December 11, 2017",path:"/2017/12/11/python-writing-the-perfect-tribonacci-sequence/",description:"Beyond Fibonacci: Writing the perfect Tribonacci sequence",image:{childImageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAVklEQVQY063OwQ2AIBAFUdowioiAshKCLBi92H9ZX3uAw7tORmgjYZ2CnAdMsp3IHMA5YfdrF6I+BeV3v4STCTFSWzBcjFwTPNk+h3ozoMPBGA21jM0+7kCNJGIYQYIAAAAASUVORK5CYII=",aspectRatio:4.36150234741784,src:"/static/perfect-tribonacci-sequence-c20a0803edadb6da60e100560f30773a-69db7.jpg",srcSet:"/static/perfect-tribonacci-sequence-c20a0803edadb6da60e100560f30773a-b5443.jpg 230w,\n/static/perfect-tribonacci-sequence-c20a0803edadb6da60e100560f30773a-5fac2.jpg 460w,\n/static/perfect-tribonacci-sequence-c20a0803edadb6da60e100560f30773a-69db7.jpg 920w,\n/static/perfect-tribonacci-sequence-c20a0803edadb6da60e100560f30773a-8fc6e.jpg 929w",sizes:"(max-width: 920px) 100vw, 920px"}}}}}},pathContext:{path:"/2017/12/11/python-writing-the-perfect-tribonacci-sequence/"}}}});
//# sourceMappingURL=path---2017-12-11-python-writing-the-perfect-tribonacci-sequence-992c191a8b8e298ed8f5.js.map